{% extends 'base.html' %}
{% block title %}MiniLang ⋅ Workbench{% endblock %}
{% block extra_head %}
<script src="https://cdn.jsdelivr.net/npm/cytoscape@3.26.0/dist/cytoscape.min.js"></script>
{% endblock %}

{% block content %}
<div class="row g-4">
  <!-- VERIFY -->
  <div class="col-lg-6">
    <h3 class="h4 fw-bold">Verify</h3>
    <textarea id="codeArea" class="form-control mb-2" rows="10"
              placeholder="Type MiniLang program here…"></textarea>

    <div class="d-flex gap-2 mb-3">
      <input id="unrollN" type="number" value="1" min="1" class="form-control w-auto">
      <button id="runVerify" class="btn btn-success flex-grow-1">Verify</button>
    </div>

    <h6 class="mb-2">Control-flow graph</h6>
    <div id="cfgCanvas"></div>

    <div class="accordion mt-3" id="verifyAcc"></div>
  </div>

  <!-- EQUIVALENCE -->
  <div class="col-lg-6">
    <h3 class="h4 fw-bold">Equivalence</h3>
    <div class="row g-2 mb-2">
      <div class="col"><textarea id="progA" class="form-control" rows="6"
                                 placeholder="Program A"></textarea></div>
      <div class="col"><textarea id="progB" class="form-control" rows="6"
                                 placeholder="Program B"></textarea></div>
    </div>
    <div class="d-flex gap-2 mb-3">
      <input id="unrollEquiv" type="number" value="1" min="1" class="form-control w-auto">
      <button id="runEquiv" class="btn btn-primary flex-grow-1">Check Equivalence</button>
    </div>
    <div id="equivOut" class="alert alert-secondary small" role="alert"></div>
  </div>
</div>
{% endblock %}
